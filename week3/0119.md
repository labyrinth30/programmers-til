# Expressë¡œ JSON, Params ë‹¤ë£¨ê¸°
![](https://velog.velcdn.com/images/ayeon0/post/2996667e-dc4b-464d-96c7-91b939036dc9/image.png)

ì˜¤ëŠ˜ì€ httpë¥¼ ë‚´ì¥ ëª¨ë“ˆë¡œ í•˜ëŠ” expressë¡œ rest api ì‹¤ìŠµì„ ì§„í–‰í–ˆì–´ìš”.
ì¶”ê°€ë¡œ **JSON**ê³¼ **Params**ë¥¼ í™œìš©í•´ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ë²•ë„ ì‹¤ìŠµí•´ ë³¼ê²Œìš”

## ğŸ“– Expressë€?
**"Node.jsë¥¼ ìœ„í•œ ì›¹ í”„ë ˆì„ì›Œí¬"**

ê¸°ì¡´ `http` ëª¨ë“ˆë¡œë„ ì„œë²„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì§€ë§Œ, **Express**ë¥¼ ì‚¬ìš©í•˜ë©´ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ APIë¥¼ í›¨ì”¬ ì‰½ê³  ë¹ ë¥´ê²Œ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.
ì™¸ë¶€ ëª¨ë“ˆì´ê¸° ë•Œë¬¸ì— npmìœ¼ë¡œ ì„¤ì¹˜ê°€ í•„ìš”í•´ìš”. í„°ë¯¸ë„ì— ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.

```bash
npm i express
```

### ğŸ“„ http ëª¨ë“ˆ vs Express ëª¨ë“ˆ ë¹„êµ
ê·¸ëŸ¼ ê¸°ì¡´ ë°©ì‹ê³¼ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ ì½”ë“œë¡œ ë¹„êµí•´ë³¼ê¹Œìš”?

**1. Expressë¥¼ ì‚¬ìš©í•œ ì½”ë“œ**
```javascript
const express = require('express')
const app = express()

app.get('/', function (req, res) {
  res.send('Hello World')
})

app.listen(3000)
```
**2. ê¸°ì¡´ http ëª¨ë“ˆ ì½”ë“œ**
```javascript
let http = require("http");

function onRequest(request, response) {
  response.writeHead(200, { "Content-Type": "text/html" });
  response.write("Hello Node.js");
  response.end();
}

http.createServer(onRequest).listen(8888);
```
ë‘˜ ë‹¤ `require`ë¡œ ëª¨ë“ˆì„ ë¶ˆëŸ¬ì˜¤ê³  `listen`ìœ¼ë¡œ í¬íŠ¸ë¥¼ ì—´ì–´ì£¼ëŠ” ê±´ ê°™ì§€ë§Œ, Express ìª½ì´ ì½”ë“œê°€ í›¨ì”¬ ì§ê´€ì ì´ê³  ê°„ê²°í•´ìš”?

### Express ì½”ë“œ ëœ¯ì–´ë³´ê¸°
*   `app.get(...)` : HTTP Method ì¤‘ **GET** ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜ì—ìš”. `post`, `put`, `delete` ë“±ë„ ë˜‘ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.
*   `'/'` : ì²« ë²ˆì§¸ ì¸ìˆ˜ëŠ” **URL**ì„ ì˜ë¯¸í•´ìš”.
*   `req`, `res` : ì½œë°± í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¡œ, ê°ê° **ìš”ì²­(Request)**ê³¼ **ì‘ë‹µ(Response)**ì„ ë‹´ë‹¹í•´ìš”.
*   `res.send()` : ë°ì´í„°ë¥¼ í™”ë©´ì— ë³´ë‚´ì£¼ëŠ” ì—­í• ì„ í•´ìš”.

## ğŸ“– JSON (JavaScript Object Notation)
ë°ì´í„°ë¥¼ ì „ì†¡í•  ë•Œ `res.send()`ë¥¼ ì—¬ëŸ¬ ë²ˆ ì“°ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?

```javascript
app.get("/products/1", function (req, res) {
  res.send('Node.jsë¥¼ ê³µë¶€í•´ë³´ì');
  res.send(20000);
});

// 'Node.jsë¥¼ ê³µë¶€í•´ë³´ì
```

ìœ„ì²˜ëŸ¼ ì½”ë“œë¥¼ ì§œë©´ ì œëª©ê³¼ ê°€ê²©ì´ ë‘˜ ë‹¤ ë‚˜ì˜¬ ê²ƒ ê°™ì§€ë§Œ, ì‹¤ì œë¡œëŠ” **ì²« ë²ˆì§¸ `send`ë§Œ ì²˜ë¦¬ë˜ê³  ë’¤ëŠ” ë¬´ì‹œ**ë¼ìš”.
ê·¸ë˜ì„œ ìš°ë¦¬ëŠ” ì—¬ëŸ¬ ë°ì´í„°ë¥¼ í•œ ë²ˆì— ë¬¶ì–´ì„œ ë³´ë‚´ê¸° ìœ„í•´ **JSON**ì„ ì‚¬ìš©í•´ì•¼ í•´ìš”.

JSONì€ **ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ ë¬¸ë²•**ìœ¼ë¡œ ë°ì´í„°ë¥¼ í‘œí˜„í•˜ëŠ” ë¬¸ì ê¸°ë°˜ì˜ í‘œì¤€ í¬ë§·ì´ì—ìš”.
```javascript
{
  title : 'Node.jsë¥¼ ë°°ì›Œë³´ì',
  price : 20000,
  description : 'ì´ ì±…ì„ í†µí•´ Node.jsë¥¼ ì‰½ê²Œ ì´í•´í•´ë³´ì'
}
```
ì´ë ‡ê²Œ **Key(í‚¤) : Value(ê°’)** ìŒìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆì–´ìš”.
ê°’ì—ëŠ” ìˆ˜, ë¬¸ìì—´, ë¶ˆë¦¬ì–¸, ë°°ì—´, ê°ì²´, null ë“±ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆì–´ìš”

### ğŸ“„ JSON ì‹¤ìŠµ
Expressì—ì„œëŠ” `res.json()` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ê°ì²´ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆì–´ìš”.

```javascript
const express = require("express");
const app = express();

// ë³´ë‚¼ ë°ì´í„° ê°ì²´ë¥¼ ìƒì„±
let nodejsBook = {
  title: "Node.jsë¥¼ ê³µë¶€í•´ë³´ì",
  price: 20000,
  description: "ì´ ì±… ì¢‹ìŒ ì™œ? ê¹€ì†¡ì•„ê°€ ì§€ìŒ",
};

app.get("/products/1", function (req, res) {
  res.json(nodejsBook); // JSON í˜•íƒœë¡œ ì „ì†¡
});

app.listen(3000);

// {"title": "Node.jsë¥¼ ê³µë¶€í•´ë³´ì", "price": 20000, "ì´ ì±… ì¢‹ìŒ ì™œ? ê¹€ì†¡ì•„ê°€ ì§€ìŒ"}

```
## ğŸ“„ Paramsë¡œ ë™ì  URL ì²˜ë¦¬í•˜ê¸°
ì‡¼í•‘ëª°ì— ìƒí’ˆì´ 100ê°œë¼ë©´ `/products/1`, `/products/2` ... ì´ë ‡ê²Œ ë¼ìš°í„°ë¥¼ 100ê°œ ë§Œë“¤ë ¤ë©´ ë§¤ìš° í˜ë“¤ ê²ƒì´ì—ìš”
`http` ëª¨ë“ˆì—ì„œëŠ” ì¿¼ë¦¬ ìŠ¤íŠ¸ë§(?id=1)ì„ ì¼ì§€ë§Œ, Expressì—ì„œëŠ” **Params**ë¥¼ ì‚¬ìš©í•˜ë©´ ì•„ì£¼ ê¹”ë”í•˜ê²Œ í•´ê²°ë¼ìš”.

ì£¼ì†Œ ë’¤ì— `/:ë³€ìˆ˜ëª…`ì„ ì ì–´ì£¼ê³ , `req.params.ë³€ìˆ˜ëª…`ìœ¼ë¡œ êº¼ë‚´ ì“°ë©´ ë©ë‹ˆë‹¤.

```javascript
const express = require("express");
const app = express();

app.listen(3000);

// :n ìë¦¬ì— ë“¤ì–´ì˜¤ëŠ” ê°’ì„ nì´ë¼ëŠ” ë³€ìˆ˜ë¡œ ë°›ê² ë‹¤ëŠ” ëœ»
app.get("/products/:n", function (req, res) {
  res.json({
    num: req.params.n, // paramsë¡œ ë°›ì€ ê°’ì„ ê·¸ëŒ€ë¡œ jsonìœ¼ë¡œ ëŒë ¤ì£¼ê¸°
  });
});
```